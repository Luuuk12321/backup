python train_model.py \
--train_url=${TRAIN_URL} \
--data_url=${DATA_URL} \
--model_name=resnet_v1_50 \
--batch_size=64 \
--max_epochs=90 \
--save_summaries_steps=60 \
--save_interval_secs=600 \
--dataset_name=imagenet \
--data_format=NCHW \
--learning_rate_strategy='5:0.001->0.4,30:0.4,60:0.04,80:0.004,90:0.0004' \
--lr_warmup_strategy=exponential \
--num_gpus=4 \
--run_mode=TRAIN \
--variable_update=distributed_replicated_dgc \
--dgc_sparsity_strategy=0.75,0.9375,0.984375,0.996,0.999 \
--dgc_momentum_type=vanilla \
--dgc_momentum=0.9 \
--dgc_momentum_factor_masking=True \
--dgc_total_samples=1281167 \
--log_every_n_steps=10 \
--running_log_level=2 \
--momentum=0 \
--ps_hosts=${PS_HOSTS} \
--worker_hosts=${WORKER_HOSTS} \
--job_name=${JOB_NAME} \
--task_index=${TASK_INDEX}
